<!DOCTYPE html>
<html>
<head>
  <title>MediaMagnet</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1>MediaMagnet</h1>
    
    <div class="tabs">
      <div class="tab-buttons">
        <button class="tab-button active" data-tab="main">Dashboard</button>
        <button class="tab-button" data-tab="settings">Settings</button>
        <button class="tab-button" data-tab="results">Results</button>
        <button class="tab-button" data-tab="history">History</button>
        <button class="tab-button" data-tab="console">Console</button>
      </div>
      
      <div class="tab-content">
        <div id="main" class="tab-pane active">
          <div class="dashboard-view">
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-title">Total Files</div>
                <div class="stat-value" id="totalFiles">0</div>
              </div>
              <div class="stat-card">
                <div class="stat-title">Total Size</div>
                <div class="stat-value" id="totalSize">0 MB</div>
              </div>
              <div class="stat-card">
                <div class="stat-title">Average Quality</div>
                <div class="stat-value" id="avgQuality">-</div>
              </div>
              <div class="stat-card">
                <div class="stat-title">Scanned Dirs</div>
                <div class="stat-value" id="scannedDirs">0</div>
              </div>
            </div>

            <div class="current-scan">
              <h2>Current Scan</h2>
              <div class="progress-bar">
                <div class="progress-fill"></div>
              </div>
              <div class="scan-info">
                <span id="scanStatus">Ready</span>
                <span id="scanProgress"></span>
              </div>
            </div>

            <div class="quick-stats">
              <div class="chart-container">
                <canvas id="qualityChart"></canvas>
              </div>
              <div class="chart-container">
                <canvas id="typeChart"></canvas>
              </div>
            </div>

            <div class="main-actions">
              <button id="startScan" class="primary-button">Scan Directory</button>
              <button id="generatePlaylist" class="secondary-button">Generate M3U</button>
            </div>
          </div>
        </div>

        <div id="settings" class="tab-pane">
          <div class="settings-view">
            <div class="section">
              <h2>Scan Settings</h2>
              <div class="controls">
                <div class="control-group">
                  <label for="scanDepth">Max Scan Depth:</label>
                  <input type="number" id="scanDepth" min="1" max="10" value="3">
                </div>
                <div class="control-group">
                  <label>
                    <input type="checkbox" id="recursiveScan" checked>
                    Recursive Scanning
                  </label>
                </div>
              </div>
            </div>

            <div class="section">
              <h2>Filters</h2>
              <div class="filters">
                <div class="filter-group">
                  <label for="filePattern">File Pattern:</label>
                  <input type="text" id="filePattern" placeholder="e.g., *S01E*">
                </div>
                <div class="filter-group">
                  <label for="minSize">Minimum Size:</label>
                  <select id="minSize">
                    <option value="0">No minimum</option>
                    <option value="104857600" selected>100 MB</option>
                    <option value="262144000">250 MB</option>
                    <option value="524288000">500 MB</option>
                    <option value="1073741824">1 GB</option>
                  </select>
                </div>
                <select id="contentType">
                  <option value="all">All Content</option>
                  <option value="movies">Movies</option>
                  <option value="tv">TV Shows</option>
                  <option value="anime">Anime</option>
                </select>
                <select id="quality">
                  <option value="all">All Quality</option>
                  <option value="4k">4K</option>
                  <option value="1080p">1080p</option>
                  <option value="720p">720p</option>
                </select>
                <div class="filter-group">
                  <label for="excludePattern">Exclude Pattern:</label>
                  <input type="text" id="excludePattern" placeholder="e.g., *sample*">
                </div>
                <div class="filter-group">
                  <label>
                    <input type="checkbox" id="smartDetection" checked>
                    Smart Content Detection
                  </label>
                </div>
              </div>
            </div>

            <div class="section">
              <h2>Export Options</h2>
              <div class="export-options">
                <select id="exportFormat">
                  <option value="m3u">M3U Playlist</option>
                  <option value="json">JSON</option>
                  <option value="csv">CSV</option>
                  <option value="txt">Text List</option>
                </select>
                <div class="export-settings">
                  <label>
                    <input type="checkbox" id="includeMetadata" checked>
                    Include Metadata
                  </label>
                  <label>
                    <input type="checkbox" id="groupByType">
                    Group by Type
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div id="results" class="tab-pane">
          <div class="results">
            <!-- Results will be populated here -->
          </div>
        </div>

        <div id="history" class="tab-pane">
          <div class="history-view">
            <div class="history-header">
              <span>Scan History</span>
              <button id="clearHistory" class="history-clear">Clear</button>
            </div>
            <div class="history-list">
              <!-- History items will be populated here -->
            </div>
          </div>
        </div>
        
        <div id="console" class="tab-pane">
          <div class="console-window">
            <div class="console-header">
              <span>Console</span>
              <button id="clearConsole" class="console-clear">Clear</button>
            </div>
            <div id="consoleOutput" class="console-output"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="chart.js"></script>
  <script src="popup.js"></script>
</body>
</html>
